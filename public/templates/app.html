<!-- Changes: add ability to choose a category -->
<div ng-controller="AppCtrl as app" class="container">
  <h3>Choose a Category</h3>
  <table class="table table-striped table-bordered table-hover">
    <tr ng-repeat="group in app.categories" class="deck-list-entry">
      <td class="category" ng-click="app.getGroupDecks(group)">{{ group.group }}</td>
    </tr>

    <tr><h5 ng-if="app.decks.length === 0">No saved decks, create a new deck to get started!</h5></tr>

  </table>

  <div ng-if="app.show">
    <h3>Choose a deck</h3>
    <table class="table table-striped table-bordered table-hover">
      <tr class="choose-deck-table-titles">
        <td>Deck Name</td>
        <td>Category</td>
      </tr>
      <tr ng-if="app.decks.length !== 0" ng-repeat="deck in app.decks track by $index" class="deck-list-entry">
        <td>{{ deck.deckname }}</td>
        <td>{{ deck.groupname }}</td>
        <td><button class="buttonInTable btn btn-primary" ng-click="app.getDeck(deck)"><a class="clickButton" href="/study">Study</a></button></td>
        <td><button class="buttonInTable btn btn-info" ng-click="app.getDeck(deck)"><a class="clickButton" href="/edit">Edit</a></button></td>
        <td><button class="deletekey buttonInTable btn btn-danger" data-toggle="modal" data-target="#myModal" ng-click="app.myDeck = deck">Delete</button></td>
      </tr>

      <tr><h5 ng-if="app.decks.length === 0">No saved decks, create a new deck to get started!</h5></tr>

    </table>
  </div>

  <!-- Modal -->
  <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
      <div class="modal-content">
        <div class="modal-header">
          <!-- <h5 class="modal-title" id="exampleModalLabel">Modal title</h5> -->
          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
        </div>
        <div class="modal-body">
          <h3>Are you sure you want to delete this deck?</h3>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-dismiss="modal" ng-click="app.handleDelete(app.myDeck)">Yes</button>
          <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
        </div>
      </div>
    </div>
  </div>

  <a href="/create"><button class="btn btn-info">Create a new deck</button></a>
</div>
